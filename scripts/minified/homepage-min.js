const slidesImage=document.querySelector(".triptych-slides-wrapper");slidesImage.style.height=slidesImage.offsetWidth+"px",window.addEventListener("resize",()=>{slidesImage.style.height=slidesImage.offsetWidth+"px",console.log(slidesImage.style.width)});const tlOne=gsap.timeline({defaults:{duration:.6,ease:Back.easeOut.config(1)}});tlOne.fromTo(".triptych-image-one",{xPercent:-100},{xPercent:0,opacity:1},"+=1").fromTo(".triptych-image-three",{xPercent:100},{xPercent:0,opacity:1},"-=0.2").addLabel("togetherness","-=.3").fromTo(".triptych-slides-wrapper",{opacity:0},{opacity:1,duration:1.5,ease:"none"},"togetherness").fromTo(".triptych-image-two",{yPercent:100},{yPercent:0,duration:2,ease:"elastic.out(1, 0.5)",onComplete:slideInterval},"togetherness");const slides=document.querySelectorAll(".triptych-slides-wrapper .triptych-image-two"),slidesLength=slides.length-1;let slideChange,currentSlide=0;function nextSlide(){slides[currentSlide].className="triptych-image-two",currentSlide=(currentSlide+1)%slides.length,slides[currentSlide].className="triptych-image triptych-image-two triptych-image-two-showing",currentSlide===slidesLength&&clearInterval(slideChange)}function infiniteNextSlide(){slides[currentSlide].className="triptych-image-two",currentSlide=(currentSlide+1)%slides.length,slides[currentSlide].className="triptych-image triptych-image-two triptych-image-two-showing",currentSlide===slidesLength&&clearInterval(slideChange)}function slideInterval(){slideChange=setInterval(nextSlide,200)}const TriptychSlider=document.querySelector(".triptych-slides-wrapper");let keepOnSliding;TriptychSlider.addEventListener("mouseenter",(function(){keepOnSliding=setInterval(infiniteNextSlide,200)})),TriptychSlider.addEventListener("mouseleave",(function(){clearInterval(keepOnSliding)}));const controller=new ScrollMagic.Controller,introParagraphs=document.querySelectorAll(".fade-in-text");let counter=1;introParagraphs.forEach((function(e){new ScrollMagic.Scene({triggerElement:e,triggerHook:.5}).setClassToggle(e,"fade-in").addTo(controller);counter++}));const tlTwo=gsap.timeline({defaults:{duration:1,ease:Power2.easeOut}});function onComplete(){new gsap.timeline({repeat:-1,delay:3,repeatDelay:4}).to(".showreel-player-arrow",.15,{x:-5,y:5,rotate:0,repeat:9,yoyo:!0})}tlTwo.to(".showreel-player",{clipPath:"polygon(0 0, 100% 0, 100% 100%, 0 100%)"}).fromTo(".showreel-player-button",{xPercent:-100},{xPercent:0,opacity:1}).fromTo(".showreel-player-arrow",{yPercent:-10,opacity:0},{yPercent:0,opacity:1,onComplete:onComplete});const showReel=new ScrollMagic.Scene({triggerElement:".showreel-player",triggerHook:.4}).setTween(tlTwo).addTo(controller),triptychImageTwo=document.querySelectorAll(".triptych-section-two-image");let counterTwo=1;triptychImageTwo.forEach((function(e){new ScrollMagic.Scene({triggerElement:e,triggerHook:.5}).setClassToggle(e,"triptych-image-slide-in").addTo(controller);counterTwo++}));const parallaxTl=gsap.timeline();parallaxTl.from(".homepage-illustration",2,{y:"-70%",ease:Power0.easeNone},0);const slideParallaxScene=new ScrollMagic.Scene({triggerElement:".homepage-illustration",triggerHook:1,duration:"150%"}).setTween(parallaxTl).addTo(controller),playerButton=document.querySelector(".showreel-player-button"),showreelVideo=document.querySelector(".showreel-video"),showreelVideoWrapper=document.querySelector(".homepage-showreel-wrapper"),closeButton=document.querySelector(".close-button"),noScrollWrapper=document.querySelector("body"),tag=document.createElement("script");tag.id="iframe-demo",tag.src="https://www.youtube.com/iframe_api";const firstScriptTag=document.getElementsByTagName("script")[0];let player;function onYouTubeIframeAPIReady(){player=new YT.Player("showreel-iframe",{events:{onStateChange:onPlayerStateChange}})}function showCloseButton(e){2===e||0===e?gsap.to(closeButton,{duration:.6,opacity:1}):1===e&&gsap.to(closeButton,{duration:.6,opacity:0})}function onPlayerStateChange(e){showCloseButton(e.data)}function playShowreel(){player.playVideo()}firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);const showreelTl=gsap.timeline({paused:!0,defaults:{duration:1.5,ease:"none"}});function stopShowreel(e){"click"!==e.type&&"Escape"!==e.key||(closeButton.style.opacity=1,showreelTl.reverse(),player.stopVideo(),setTimeout(()=>{noScrollWrapper.classList.remove("no-scroll")},1500))}showreelTl.set(closeButton,{opacity:1}).fromTo(showreelVideoWrapper,{clipPath:"polygon(0 0, 0 100%, 0 100%, 0 0)"},{ease:"power3.in",clipPath:"polygon(100% 0, 100% 100%, 0 100%, 0 0)"}).fromTo(showreelVideo,{clipPath:"polygon(0 0, 0 0, 100% 0, 100% 0)"},{ease:"power4.inOut",clipPath:"polygon(0 0, 0 100%, 100% 100%, 100% 0)"}).to(closeButton,{duration:.3,opacity:0,onComplete:playShowreel}),playerButton.addEventListener("click",()=>{showreelTl.play(),setTimeout(()=>{noScrollWrapper.classList.add("no-scroll")},1500)}),closeButton.addEventListener("mouseenter",()=>{gsap.to(closeButton,{duration:.6,opacity:1})}),closeButton.addEventListener("mouseout",()=>{gsap.to(closeButton,{duration:.6,opacity:0})}),closeButton.addEventListener("click",stopShowreel),window.addEventListener("keyup",stopShowreel);
//# sourceMappingURL=homepage-min.js.map